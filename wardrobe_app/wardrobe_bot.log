2025-12-23 20:05:36,484 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:05:36,487 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:05:36,487 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:05:36,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,488 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:05:36,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,488 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:05:36,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,490 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:05:36,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,490 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:05:36,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,491 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:05:36,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,492 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:05:36,492 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:05:36,504 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:05:36,504 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:05:36,518 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:05:36,518 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,519 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:05:36,519 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,520 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:05:36,520 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,520 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:05:36,520 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,521 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:05:36,521 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,521 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:05:36,521 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,522 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:05:36,522 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,522 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:05:36,522 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:05:36,523 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:05:36,523 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:05:36,536 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:05:36,536 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:05:36,543 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:05:36,543 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:05:36,558 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:05:36,559 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 20:05:36,571 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:05:36,571 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:05:36,581 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:05:36,581 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:05:36,581 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:05:36,581 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:05:36,782 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:05:36,786 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:05:36,786 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:05:36,786 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:05:36,786 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:05:36,786 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:05:36,786 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:05:36,786 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:09:54,695 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:09:54,697 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:09:54,697 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:09:54,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:09:54,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,698 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:09:54,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:09:54,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,699 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:09:54,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,700 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:09:54,700 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:09:54,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:09:54,701 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:09:54,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,710 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:09:54,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:09:54,717 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:09:54,718 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:09:54,725 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:09:54,725 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 20:09:54,733 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:09:54,733 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,734 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:09:54,734 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,734 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:09:54,734 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,735 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:09:54,735 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,735 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:09:54,735 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,736 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:09:54,736 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,736 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:09:54,736 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,737 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:09:54,737 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,737 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:09:54,737 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:09:54,745 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:09:54,745 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:09:54,752 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:09:54,752 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:09:54,759 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:09:54,759 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:09:54,768 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:09:54,768 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:09:54,775 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:09:54,775 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:09:54,775 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:09:54,775 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:09:54,787 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:09:54,787 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,788 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:09:54,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,788 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:09:54,788 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,789 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:09:54,789 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ()
2025-12-23 20:09:54,797 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:09:54,797 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:09:54,811 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:09:54,811 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:09:54,820 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:09:54,820 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:09:54,827 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:09:54,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,828 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:09:54,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,829 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:09:54,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,830 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:09:54,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,830 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:09:54,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,830 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:09:54,830 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,831 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:09:54,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,831 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:09:54,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:09:54,832 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:09:54,832 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ()
2025-12-23 20:09:54,840 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:09:54,840 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:09:54,853 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:09:54,853 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:09:54,863 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:09:54,863 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ()
2025-12-23 20:09:54,873 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:09:54,873 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:09:54,884 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:09:54,884 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:09:54,884 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:09:54,884 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:09:54,999 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:09:55,001 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,002 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:09:55,002 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:09:55,002 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:09:55,003 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 20:39:55.002025+03:00
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:09:55.001024+03:00
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:09:55.002025+03:00
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:09:55.002025+03:00
2025-12-23 20:09:55,003 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:09:55,003 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:09:55,003 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:09:55,114 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:09:55,115 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:09:55,116 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:09:55,116 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:09:55,116 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:09:55,117 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 20:39:55.116098+03:00
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:09:55.115025+03:00
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:09:55.116098+03:00
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:09:55.116098+03:00
2025-12-23 20:09:55,117 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:09:55,117 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:09:55,117 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:09:55,192 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:09:55,278 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:09:55,335 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:09:55,335 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:09:59,396 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:09:59,397 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:10:00,452 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:00,452 - aiogram.dispatcher - WARNING - Sleep for 1.217883 seconds and try again... (tryings = 1, bot id = 8582666055)
2025-12-23 20:10:04,730 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:04,730 - aiogram.dispatcher - WARNING - Sleep for 1.207291 seconds and try again... (tryings = 1, bot id = 8582666055)
2025-12-23 20:10:05,998 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:05,998 - aiogram.dispatcher - WARNING - Sleep for 1.692477 seconds and try again... (tryings = 2, bot id = 8582666055)
2025-12-23 20:10:10,768 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:10,768 - aiogram.dispatcher - WARNING - Sleep for 1.583638 seconds and try again... (tryings = 2, bot id = 8582666055)
2025-12-23 20:10:12,406 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:12,406 - aiogram.dispatcher - WARNING - Sleep for 2.085562 seconds and try again... (tryings = 3, bot id = 8582666055)
2025-12-23 20:10:17,550 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:17,550 - aiogram.dispatcher - WARNING - Sleep for 2.106604 seconds and try again... (tryings = 3, bot id = 8582666055)
2025-12-23 20:10:19,714 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:19,715 - aiogram.dispatcher - WARNING - Sleep for 2.599433 seconds and try again... (tryings = 4, bot id = 8582666055)
2025-12-23 20:10:25,377 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:25,377 - aiogram.dispatcher - WARNING - Sleep for 2.899336 seconds and try again... (tryings = 4, bot id = 8582666055)
2025-12-23 20:10:28,340 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:28,340 - aiogram.dispatcher - WARNING - Sleep for 3.413958 seconds and try again... (tryings = 5, bot id = 8582666055)
2025-12-23 20:10:31,824 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:31,824 - aiogram.dispatcher - WARNING - Sleep for 3.758209 seconds and try again... (tryings = 5, bot id = 8582666055)
2025-12-23 20:10:35,640 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:35,640 - aiogram.dispatcher - WARNING - Sleep for 4.305965 seconds and try again... (tryings = 6, bot id = 8582666055)
2025-12-23 20:10:40,015 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:40,015 - aiogram.dispatcher - WARNING - Sleep for 4.833730 seconds and try again... (tryings = 6, bot id = 8582666055)
2025-12-23 20:10:44,914 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:44,914 - aiogram.dispatcher - WARNING - Sleep for 5.157165 seconds and try again... (tryings = 7, bot id = 8582666055)
2025-12-23 20:10:50,140 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:50,140 - aiogram.dispatcher - WARNING - Sleep for 5.110107 seconds and try again... (tryings = 7, bot id = 8582666055)
2025-12-23 20:10:55,317 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:10:55,317 - aiogram.dispatcher - WARNING - Sleep for 5.085716 seconds and try again... (tryings = 8, bot id = 8582666055)
2025-12-23 20:11:00,473 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:00,473 - aiogram.dispatcher - WARNING - Sleep for 5.080288 seconds and try again... (tryings = 8, bot id = 8582666055)
2025-12-23 20:11:05,615 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:05,615 - aiogram.dispatcher - WARNING - Sleep for 4.951726 seconds and try again... (tryings = 9, bot id = 8582666055)
2025-12-23 20:11:10,628 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:10,628 - aiogram.dispatcher - WARNING - Sleep for 5.205722 seconds and try again... (tryings = 9, bot id = 8582666055)
2025-12-23 20:11:15,889 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:15,889 - aiogram.dispatcher - WARNING - Sleep for 5.150773 seconds and try again... (tryings = 10, bot id = 8582666055)
2025-12-23 20:11:21,099 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:21,099 - aiogram.dispatcher - WARNING - Sleep for 4.860998 seconds and try again... (tryings = 10, bot id = 8582666055)
2025-12-23 20:11:24,230 - aiogram.dispatcher - INFO - Connection established (tryings = 11, bot id = 8582666055)
2025-12-23 20:11:24,451 - aiogram.event - INFO - Update id=75659678 is handled. Duration 218 ms by bot id=8582666055
2025-12-23 20:11:26,031 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:26,031 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:11:27,610 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 8582666055)
2025-12-23 20:11:27,709 - aiogram.event - INFO - Update id=75659679 is handled. Duration 108 ms by bot id=8582666055
2025-12-23 20:11:30,104 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:30,104 - aiogram.dispatcher - WARNING - Sleep for 5.060250 seconds and try again... (tryings = 11, bot id = 8582666055)
2025-12-23 20:11:30,751 - aiogram.event - INFO - Update id=75659680 is handled. Duration 406 ms by bot id=8582666055
2025-12-23 20:11:35,237 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:35,237 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:11:39,300 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:39,300 - aiogram.dispatcher - WARNING - Sleep for 4.871159 seconds and try again... (tryings = 12, bot id = 8582666055)
2025-12-23 20:11:42,947 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 8582666055)
2025-12-23 20:11:43,131 - aiogram.event - INFO - Update id=75659681 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 20:11:44,247 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:44,247 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:11:45,155 - aiogram.dispatcher - INFO - Connection established (tryings = 13, bot id = 8582666055)
2025-12-23 20:11:45,523 - aiogram.event - INFO - Update id=75659682 is handled. Duration 375 ms by bot id=8582666055
2025-12-23 20:11:48,320 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:48,320 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:11:49,385 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:49,385 - aiogram.dispatcher - WARNING - Sleep for 1.148564 seconds and try again... (tryings = 1, bot id = 8582666055)
2025-12-23 20:11:50,907 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 8582666055)
2025-12-23 20:11:51,114 - aiogram.event - INFO - Update id=75659683 is handled. Duration 218 ms by bot id=8582666055
2025-12-23 20:11:53,599 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:53,599 - aiogram.dispatcher - WARNING - Sleep for 1.240560 seconds and try again... (tryings = 1, bot id = 8582666055)
2025-12-23 20:11:54,903 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:54,903 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:11:57,312 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 8582666055)
2025-12-23 20:11:57,821 - aiogram.event - INFO - Update id=75659684 is handled. Duration 515 ms by bot id=8582666055
2025-12-23 20:11:58,973 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:11:58,973 - aiogram.dispatcher - WARNING - Sleep for 1.584910 seconds and try again... (tryings = 2, bot id = 8582666055)
2025-12-23 20:12:00,620 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:00,620 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:12:03,402 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 8582666055)
2025-12-23 20:12:03,495 - aiogram.event - INFO - Update id=75659685 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 20:12:04,680 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:04,680 - aiogram.dispatcher - WARNING - Sleep for 2.157982 seconds and try again... (tryings = 3, bot id = 8582666055)
2025-12-23 20:12:06,894 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:06,894 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 20:12:10,945 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:10,945 - aiogram.dispatcher - WARNING - Sleep for 2.828561 seconds and try again... (tryings = 4, bot id = 8582666055)
2025-12-23 20:12:13,841 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:13,841 - aiogram.dispatcher - WARNING - Sleep for 1.245243 seconds and try again... (tryings = 1, bot id = 8582666055)
2025-12-23 20:12:18,142 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:18,142 - aiogram.dispatcher - WARNING - Sleep for 3.637457 seconds and try again... (tryings = 5, bot id = 8582666055)
2025-12-23 20:12:21,936 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:21,936 - aiogram.dispatcher - WARNING - Sleep for 1.793452 seconds and try again... (tryings = 2, bot id = 8582666055)
2025-12-23 20:12:26,789 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:26,789 - aiogram.dispatcher - WARNING - Sleep for 4.609640 seconds and try again... (tryings = 6, bot id = 8582666055)
2025-12-23 20:12:31,467 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:31,467 - aiogram.dispatcher - WARNING - Sleep for 2.338870 seconds and try again... (tryings = 3, bot id = 8582666055)
2025-12-23 20:12:36,876 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:36,876 - aiogram.dispatcher - WARNING - Sleep for 4.856516 seconds and try again... (tryings = 7, bot id = 8582666055)
2025-12-23 20:12:41,785 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:41,785 - aiogram.dispatcher - WARNING - Sleep for 3.007748 seconds and try again... (tryings = 4, bot id = 8582666055)
2025-12-23 20:12:44,853 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:44,853 - aiogram.dispatcher - WARNING - Sleep for 4.975668 seconds and try again... (tryings = 8, bot id = 8582666055)
2025-12-23 20:12:49,902 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:49,902 - aiogram.dispatcher - WARNING - Sleep for 3.899016 seconds and try again... (tryings = 5, bot id = 8582666055)
2025-12-23 20:12:53,865 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:53,865 - aiogram.dispatcher - WARNING - Sleep for 4.924579 seconds and try again... (tryings = 9, bot id = 8582666055)
2025-12-23 20:12:58,865 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:12:58,865 - aiogram.dispatcher - WARNING - Sleep for 4.983515 seconds and try again... (tryings = 6, bot id = 8582666055)
2025-12-23 20:13:03,952 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:03,952 - aiogram.dispatcher - WARNING - Sleep for 5.024273 seconds and try again... (tryings = 10, bot id = 8582666055)
2025-12-23 20:13:09,036 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:09,036 - aiogram.dispatcher - WARNING - Sleep for 5.058743 seconds and try again... (tryings = 7, bot id = 8582666055)
2025-12-23 20:13:14,151 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:14,151 - aiogram.dispatcher - WARNING - Sleep for 5.086683 seconds and try again... (tryings = 11, bot id = 8582666055)
2025-12-23 20:13:19,303 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:19,303 - aiogram.dispatcher - WARNING - Sleep for 4.992621 seconds and try again... (tryings = 8, bot id = 8582666055)
2025-12-23 20:13:24,365 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:24,365 - aiogram.dispatcher - WARNING - Sleep for 4.993540 seconds and try again... (tryings = 12, bot id = 8582666055)
2025-12-23 20:13:29,414 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:29,414 - aiogram.dispatcher - WARNING - Sleep for 4.954694 seconds and try again... (tryings = 9, bot id = 8582666055)
2025-12-23 20:13:34,438 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:34,438 - aiogram.dispatcher - WARNING - Sleep for 5.107201 seconds and try again... (tryings = 13, bot id = 8582666055)
2025-12-23 20:13:39,657 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:39,657 - aiogram.dispatcher - WARNING - Sleep for 4.958464 seconds and try again... (tryings = 10, bot id = 8582666055)
2025-12-23 20:13:44,672 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:44,672 - aiogram.dispatcher - WARNING - Sleep for 4.897288 seconds and try again... (tryings = 14, bot id = 8582666055)
2025-12-23 20:13:49,638 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:49,638 - aiogram.dispatcher - WARNING - Sleep for 4.936410 seconds and try again... (tryings = 11, bot id = 8582666055)
2025-12-23 20:13:54,639 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:54,640 - aiogram.dispatcher - WARNING - Sleep for 5.250138 seconds and try again... (tryings = 15, bot id = 8582666055)
2025-12-23 20:13:59,953 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 20:13:59,953 - aiogram.dispatcher - WARNING - Sleep for 4.958519 seconds and try again... (tryings = 12, bot id = 8582666055)
2025-12-23 20:14:01,142 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:14:01,143 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:14:01,143 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:14:01,143 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:14:01,143 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:14:01,144 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:14:01,144 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:14:01,145 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:14:01,145 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:14:01,145 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:14:16,621 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:14:16,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:14:16,623 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:14:16,623 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,624 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:14:16,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,624 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:14:16,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,625 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:14:16,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,625 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:14:16,625 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:14:16,638 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:14:16,638 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:14:16,647 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:14:16,648 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-12-23 20:14:16,656 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:14:16,656 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 20:14:16,664 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:14:16,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,665 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:14:16,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,666 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:14:16,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,666 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:14:16,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,667 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:14:16,667 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,667 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:14:16,667 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,668 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:14:16,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,668 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:14:16,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:14:16,669 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:14:16,669 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ()
2025-12-23 20:14:16,675 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:14:16,675 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:14:16,683 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:14:16,683 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:14:16,691 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:14:16,691 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-12-23 20:14:16,698 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:14:16,698 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:14:16,706 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:14:16,706 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:14:16,706 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:14:16,706 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:14:16,907 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:14:16,909 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:14:16,909 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:14:16,909 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:14:16,910 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:14:16,910 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:14:16,910 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 20:44:16.909217+03:00
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:14:16.908216+03:00
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:14:16.909217+03:00
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:14:16.909217+03:00
2025-12-23 20:14:16,911 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:14:16,911 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:14:16,911 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:14:17,073 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:14:25,991 - aiogram.event - INFO - Update id=75659686 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 20:14:35,545 - aiogram.event - INFO - Update id=75659687 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 20:14:38,245 - aiogram.event - INFO - Update id=75659688 is handled. Duration 531 ms by bot id=8582666055
2025-12-23 20:14:41,136 - aiogram.event - INFO - Update id=75659689 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 20:14:42,505 - aiogram.event - INFO - Update id=75659690 is handled. Duration 233 ms by bot id=8582666055
2025-12-23 20:14:46,619 - aiogram.event - INFO - Update id=75659691 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 20:14:52,260 - aiogram.event - INFO - Update id=75659692 is handled. Duration 358 ms by bot id=8582666055
2025-12-23 20:14:53,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:14:53,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:14:53,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (8582666055,)
2025-12-23 20:14:53,804 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:14:53,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:14:16.542079')
2025-12-23 20:14:53,807 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:14:53,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:14:53,818 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:14:53,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:14:53,821 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:14:53,821 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:14:53,822 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:14:53,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:14:53.822985')
2025-12-23 20:14:53,824 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:14:53,831 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:14:53,832 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:14:53,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (1,)
2025-12-23 20:14:53,833 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:14:54,095 - aiogram.event - INFO - Update id=75659693 is handled. Duration 436 ms by bot id=8582666055
2025-12-23 20:14:58,530 - aiogram.event - INFO - Update id=75659694 is handled. Duration 78 ms by bot id=8582666055
2025-12-23 20:16:34,229 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:16:34,229 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:16:34,230 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:16:34,230 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:16:34,230 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:16:43,623 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:16:43,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:16:43,625 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:16:43,626 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,627 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:16:43,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,627 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:16:43,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,628 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:16:43,628 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,628 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:16:43,631 - sqlalchemy.engine.Engine - INFO - [no key 0.00267s] ()
2025-12-23 20:16:43,644 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:16:43,644 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:16:43,655 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:16:43,656 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:16:43,663 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:16:43,663 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:16:43,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:16:43,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,675 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:16:43,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:16:43,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,676 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:16:43,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,676 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:16:43,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,677 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:16:43,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:16:43,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,678 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:16:43,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:16:43,678 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:16:43,678 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:16:43,686 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:16:43,686 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:16:43,693 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:16:43,693 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:16:43,703 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:16:43,703 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:16:43,715 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:16:43,715 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:16:43,721 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:16:43,722 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:16:43,722 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:16:43,722 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:16:43,911 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:16:43,914 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:16:43,914 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:16:43,914 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:16:43,915 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:16:43,915 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 20:46:43.914692+03:00
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:16:43.913691+03:00
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:16:43.914692+03:00
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:16:43.914692+03:00
2025-12-23 20:16:43,915 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:16:43,915 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:16:43,915 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:16:44,204 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:17:13,034 - aiogram.event - INFO - Update id=75659695 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 20:17:16,992 - aiogram.event - INFO - Update id=75659696 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 20:17:21,899 - aiogram.event - INFO - Update id=75659697 is handled. Duration 297 ms by bot id=8582666055
2025-12-23 20:17:25,466 - aiogram.event - INFO - Update id=75659698 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:17:27,437 - aiogram.event - INFO - Update id=75659699 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 20:17:33,225 - aiogram.event - INFO - Update id=75659700 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 20:17:38,029 - aiogram.event - INFO - Update id=75659701 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 20:17:39,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:17:39,194 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:17:39,194 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (8582666055,)
2025-12-23 20:17:39,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:17:39,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:16:43.547053')
2025-12-23 20:17:39,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:17:39,210 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:17:39,210 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:17:39,210 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2025-12-23 20:17:39,212 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:17:39,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2025-12-23 20:17:39,215 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:17:39,215 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:17:39.215014')
2025-12-23 20:17:39,217 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:17:39,226 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:17:39,227 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:17:39,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:17:39,228 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:17:39,401 - aiogram.event - INFO - Update id=75659702 is handled. Duration 281 ms by bot id=8582666055
2025-12-23 20:17:41,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:17:41,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:17:41,945 - sqlalchemy.engine.Engine - INFO - [cached since 2.752s ago] (981466212,)
2025-12-23 20:17:42,105 - aiogram.event - INFO - Update id=75659703 is handled. Duration 156 ms by bot id=8582666055
2025-12-23 20:17:42,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 20:19:57,734 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:19:57,735 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:19:57,735 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:19:57,735 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:19:57,735 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:25:09,629 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:25:09,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:25:09,631 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:25:09,631 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,633 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:25:09,633 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,633 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:25:09,633 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,634 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:25:09,634 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,635 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:25:09,635 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:25:09,644 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:25:09,645 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:25:09,655 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:25:09,655 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ()
2025-12-23 20:25:09,663 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:25:09,663 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:25:09,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:25:09,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,672 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:25:09,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:25:09,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,673 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:25:09,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:25:09,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,674 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:25:09,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:25:09,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,675 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:25:09,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:25:09,675 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:25:09,675 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:25:09,683 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:25:09,683 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 20:25:09,690 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:25:09,692 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 20:25:09,700 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:25:09,700 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ()
2025-12-23 20:25:09,708 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:25:09,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:25:09,716 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:25:09,717 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:25:09,717 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:25:09,717 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:25:09,924 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:25:09,928 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:25:09,928 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:25:09,928 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:25:09,929 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 20:55:09.928172+03:00
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:25:09.928172+03:00
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:25:09.928172+03:00
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:25:09.928172+03:00
2025-12-23 20:25:09,929 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:25:09,929 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:25:09,929 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:25:10,111 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:25:15,378 - aiogram.event - INFO - Update id=75659704 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 20:25:22,477 - aiogram.event - INFO - Update id=75659705 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 20:25:24,582 - aiogram.event - INFO - Update id=75659706 is handled. Duration 343 ms by bot id=8582666055
2025-12-23 20:25:28,594 - aiogram.event - INFO - Update id=75659707 is handled. Duration 280 ms by bot id=8582666055
2025-12-23 20:25:30,346 - aiogram.event - INFO - Update id=75659708 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 20:25:35,288 - aiogram.event - INFO - Update id=75659709 is handled. Duration 155 ms by bot id=8582666055
2025-12-23 20:25:41,011 - aiogram.event - INFO - Update id=75659710 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 20:25:42,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:25:42,359 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:25:42,359 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (8582666055,)
2025-12-23 20:25:42,362 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:25:42,362 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:25:09.528677')
2025-12-23 20:25:42,363 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:25:42,371 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:25:42,372 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:25:42,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:25:42,374 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:25:42,374 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:25:42,376 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:25:42,376 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] (1, '–Ø—Ä–æ—Å–ª–∞–≤—ç', 'male', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:25:42.375728')
2025-12-23 20:25:42,377 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:25:42,384 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:25:42,385 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:25:42,385 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:25:42,385 - root - ERROR - –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î: 'male' is not among the defined enum values. Enum name: gender. Possible values: MALE, FEMALE
2025-12-23 20:25:42,385 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 20:25:42,632 - aiogram.event - INFO - Update id=75659711 is handled. Duration 390 ms by bot id=8582666055
2025-12-23 20:25:47,407 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:25:47,407 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:25:47,407 - sqlalchemy.engine.Engine - INFO - [cached since 5.049s ago] (981466212,)
2025-12-23 20:25:47,496 - aiogram.event - INFO - Update id=75659712 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 20:25:47,496 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 20:30:17,378 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:30:17,379 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:30:17,379 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:30:17,380 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:30:17,380 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:30:22,034 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:30:22,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:30:22,037 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:30:22,037 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,039 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:30:22,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,039 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:30:22,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,040 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:30:22,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,041 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:30:22,041 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 20:30:22,049 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:30:22,049 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:30:22,057 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:30:22,057 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:30:22,065 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:30:22,065 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:30:22,072 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:30:22,072 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,073 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:30:22,073 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,073 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:30:22,073 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,074 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:30:22,074 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,074 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:30:22,074 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,075 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:30:22,075 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,075 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:30:22,075 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,075 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:30:22,075 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:22,076 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:30:22,076 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ()
2025-12-23 20:30:22,084 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:30:22,084 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:30:22,091 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:30:22,091 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:30:22,098 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:30:22,098 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:30:22,106 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:30:22,106 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:30:22,113 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:30:22,113 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:30:22,113 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:30:22,113 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:30:22,305 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:30:22,308 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:22,308 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:22,309 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:30:22,309 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:30:22,309 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:30:22,309 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:30:22,310 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:30:22,310 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:00:22.309951+03:00
2025-12-23 20:30:22,310 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:30:22.308952+03:00
2025-12-23 20:30:22,310 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:30:22.309951+03:00
2025-12-23 20:30:22,310 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:30:22.309951+03:00
2025-12-23 20:30:22,310 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:30:22,310 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:30:22,310 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:30:22,311 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:30:22,566 - __main__ - INFO - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
2025-12-23 20:30:26,243 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:30:26,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:30:26,245 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:30:26,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,247 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:30:26,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:30:26,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,249 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:30:26,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,250 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:30:26,251 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:30:26,260 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:30:26,260 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:30:26,269 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:30:26,269 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:30:26,276 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:30:26,276 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:30:26,283 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:30:26,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,283 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:30:26,284 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,284 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:30:26,284 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,285 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:30:26,285 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,285 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:30:26,285 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,286 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:30:26,286 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,286 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:30:26,286 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,287 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:30:26,287 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:30:26,287 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:30:26,287 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:30:26,294 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:30:26,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:30:26,302 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:30:26,302 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:30:26,309 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:30:26,309 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:30:26,318 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:30:26,318 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:30:26,326 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:30:26,327 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:30:26,327 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:30:26,327 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:30:26,516 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:30:26,518 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:30:26,519 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:30:26,519 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:30:26,519 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:30:26,520 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:30:26,520 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:00:26.519048+03:00
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:30:26.518093+03:00
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:30:26.519048+03:00
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:30:26.519048+03:00
2025-12-23 20:30:26,520 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:30:26,520 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:30:26,520 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:30:26,707 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:31:22,236 - aiogram.event - INFO - Update id=75659713 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 20:31:27,957 - aiogram.event - INFO - Update id=75659714 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 20:31:29,701 - aiogram.event - INFO - Update id=75659715 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 20:31:32,833 - aiogram.event - INFO - Update id=75659716 is handled. Duration 327 ms by bot id=8582666055
2025-12-23 20:31:34,267 - aiogram.event - INFO - Update id=75659717 is handled. Duration 515 ms by bot id=8582666055
2025-12-23 20:31:38,151 - aiogram.event - INFO - Update id=75659718 is handled. Duration 94 ms by bot id=8582666055
2025-12-23 20:31:42,736 - aiogram.event - INFO - Update id=75659719 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 20:31:44,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:31:44,371 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:31:44,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (8582666055,)
2025-12-23 20:31:44,374 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:31:44,374 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:30:26.167924')
2025-12-23 20:31:44,375 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:31:44,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:31:44,383 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:31:44,383 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:31:44,385 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:31:44,385 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2025-12-23 20:31:44,386 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:31:44,387 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:31:44.386497')
2025-12-23 20:31:44,388 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:31:44,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:31:44,395 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:31:44,395 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:31:44,396 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:31:44,475 - aiogram.event - INFO - Update id=75659720 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:34:40,773 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:34:40,773 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:34:40,773 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:34:40,774 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:34:40,774 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:35:05,128 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:35:05,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:35:05,131 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:35:05,132 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,134 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:35:05,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,135 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:35:05,135 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,136 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:35:05,136 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,137 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:35:05,137 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 20:35:05,147 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:35:05,147 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:35:05,154 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:35:05,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:35:05,162 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:35:05,162 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:35:05,169 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:35:05,169 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,170 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:35:05,170 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,171 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:35:05,171 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,172 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:35:05,172 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,173 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:35:05,173 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,173 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:35:05,173 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,174 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:35:05,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,174 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:35:05,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:35:05,175 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:35:05,175 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 20:35:05,183 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:35:05,183 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:35:05,191 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:35:05,191 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:35:05,198 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:35:05,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 20:35:05,206 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:35:05,206 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ()
2025-12-23 20:35:05,214 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:35:05,214 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:35:05,215 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:35:05,215 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:35:05,429 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:35:05,431 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:35:05,432 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:35:05,432 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:35:05,432 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:35:05,432 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:35:05,432 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:35:05,432 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:35:05,432 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:35:05,433 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:35:05,433 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:35:05,433 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:35:05,433 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:35:05,433 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:05:05.432821+03:00
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:35:05.431813+03:00
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:35:05.432821+03:00
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:35:05.432821+03:00
2025-12-23 20:35:05,433 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:35:05,433 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:35:05,433 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:35:05,654 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:35:11,440 - aiogram.event - INFO - Update id=75659721 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 20:35:14,367 - aiogram.event - INFO - Update id=75659722 is handled. Duration 109 ms by bot id=8582666055
2025-12-23 20:35:16,221 - aiogram.event - INFO - Update id=75659723 is handled. Duration 233 ms by bot id=8582666055
2025-12-23 20:35:22,009 - aiogram.event - INFO - Update id=75659724 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 20:35:23,244 - aiogram.event - INFO - Update id=75659725 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 20:35:27,173 - aiogram.event - INFO - Update id=75659726 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 20:35:31,277 - aiogram.event - INFO - Update id=75659727 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 20:35:34,861 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:35:34,865 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:35:34,866 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (8582666055,)
2025-12-23 20:35:34,867 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:35:34,868 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:35:05.026065')
2025-12-23 20:35:34,871 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:35:34,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:35:34,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:35:34,880 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:35:34,881 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:35:34,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:35:34,883 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:35:34,883 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:35:34.883192')
2025-12-23 20:35:34,885 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:35:34,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:35:34,892 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:35:34,892 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] (1,)
2025-12-23 20:35:34,893 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:35:34,962 - aiogram.event - INFO - Update id=75659728 is handled. Duration 186 ms by bot id=8582666055
2025-12-23 20:37:02,091 - aiogram.event - INFO - Update id=75659729 is not handled. Duration 0 ms by bot id=8582666055
2025-12-23 20:39:48,238 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:39:48,238 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:39:48,238 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:39:48,239 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:39:48,239 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:40:04,088 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:40:04,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:40:04,091 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:40:04,091 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,092 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:40:04,092 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,093 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:40:04,093 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,093 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:40:04,093 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,094 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:40:04,094 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:40:04,104 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:40:04,104 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:40:04,112 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:40:04,112 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:40:04,119 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:40:04,119 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:40:04,126 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:40:04,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,127 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:40:04,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,128 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:40:04,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,128 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:40:04,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,129 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:40:04,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,130 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:40:04,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,130 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:40:04,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,131 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:40:04,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:04,131 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:40:04,131 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:40:04,139 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:40:04,139 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-12-23 20:40:04,147 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:40:04,147 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:40:04,153 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:40:04,153 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:40:04,161 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:40:04,161 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:40:04,167 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:40:04,168 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:40:04,168 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:40:04,168 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:40:04,361 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:40:04,365 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:04,365 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:04,365 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:04,366 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:40:04,366 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:40:04,366 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:10:04.366700+03:00
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:40:04.365703+03:00
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:40:04.366700+03:00
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:40:04.365703+03:00
2025-12-23 20:40:04,367 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:40:04,367 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:40:04,367 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:40:04,537 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:40:04,537 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:40:04,538 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:40:04,538 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:40:10,194 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:40:10,196 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:40:10,197 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:40:10,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,198 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:40:10,199 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,199 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:40:10,199 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,200 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:40:10,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,200 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:40:10,200 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:40:10,209 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:40:10,210 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 20:40:10,218 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:40:10,218 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:40:10,225 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:40:10,225 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:40:10,233 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:40:10,233 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,234 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:40:10,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,234 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:40:10,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,235 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:40:10,235 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,235 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:40:10,235 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,236 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:40:10,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,236 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:40:10,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,237 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:40:10,237 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:40:10,237 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:40:10,237 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:40:10,244 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:40:10,244 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:40:10,252 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:40:10,252 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:40:10,259 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:40:10,259 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:40:10,266 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:40:10,266 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:40:10,273 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:40:10,274 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:40:10,274 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:40:10,274 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:40:10,464 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:40:10,466 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:40:10,467 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:10:10.467506+03:00
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:40:10.465601+03:00
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:40:10.467001+03:00
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:40:10.467001+03:00
2025-12-23 20:40:10,467 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:40:10,467 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:40:10,467 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:40:10,650 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:40:14,906 - aiogram.event - INFO - Update id=75659730 is handled. Duration 235 ms by bot id=8582666055
2025-12-23 20:40:18,713 - aiogram.event - INFO - Update id=75659731 is handled. Duration 186 ms by bot id=8582666055
2025-12-23 20:40:20,815 - aiogram.event - INFO - Update id=75659732 is handled. Duration 266 ms by bot id=8582666055
2025-12-23 20:40:23,197 - aiogram.event - INFO - Update id=75659733 is handled. Duration 171 ms by bot id=8582666055
2025-12-23 20:40:24,495 - aiogram.event - INFO - Update id=75659734 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 20:40:28,636 - aiogram.event - INFO - Update id=75659735 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:40:32,317 - aiogram.event - INFO - Update id=75659736 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:40:33,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:40:33,486 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:40:33,486 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (8582666055,)
2025-12-23 20:40:33,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:40:33,488 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:40:10.119606')
2025-12-23 20:40:33,492 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:40:33,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:40:33,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:40:33,500 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:40:33,502 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:40:33,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2025-12-23 20:40:33,503 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:40:33,503 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, '–Ø—Ä–æ—Å—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:40:33.503865')
2025-12-23 20:40:33,504 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:40:33,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:40:33,512 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:40:33,512 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (1,)
2025-12-23 20:40:33,513 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:40:33,677 - aiogram.event - INFO - Update id=75659737 is handled. Duration 280 ms by bot id=8582666055
2025-12-23 20:40:37,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:40:37,789 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:40:37,789 - sqlalchemy.engine.Engine - INFO - [cached since 4.303s ago] (981466212,)
2025-12-23 20:40:37,883 - aiogram.event - INFO - Update id=75659738 is handled. Duration 94 ms by bot id=8582666055
2025-12-23 20:40:37,883 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 20:42:41,150 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:42:41,150 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:42:41,150 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:42:41,151 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:42:41,151 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:42:48,298 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:42:48,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:42:48,301 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:42:48,301 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,302 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:42:48,302 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,303 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:42:48,303 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,303 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:42:48,304 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,304 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:42:48,304 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:42:48,313 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:42:48,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:42:48,321 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:42:48,321 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:42:48,328 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:42:48,328 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:42:48,335 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:42:48,335 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,336 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:42:48,336 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,336 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:42:48,336 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,337 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:42:48,337 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,337 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:42:48,337 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,338 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:42:48,338 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,338 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:42:48,338 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,338 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:42:48,339 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:42:48,339 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:42:48,339 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:42:48,346 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:42:48,346 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:42:48,353 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:42:48,353 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:42:48,360 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:42:48,360 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:42:48,368 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:42:48,368 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:42:48,375 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:42:48,375 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:42:48,376 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:42:48,376 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:42:48,564 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:42:48,567 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:42:48,567 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:42:48,567 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:42:48,567 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:42:48,567 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:42:48,567 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:42:48,567 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:42:48,568 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:42:48,568 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:42:48,568 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:42:48,568 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:42:48,568 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:42:48,568 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:12:48.567361+03:00
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:42:48.567361+03:00
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:42:48.567361+03:00
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:42:48.567361+03:00
2025-12-23 20:42:48,568 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:42:48,568 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:42:48,568 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:42:48,739 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:42:51,791 - aiogram.event - INFO - Update id=75659739 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:42:56,992 - aiogram.event - INFO - Update id=75659740 is handled. Duration 156 ms by bot id=8582666055
2025-12-23 20:42:58,838 - aiogram.event - INFO - Update id=75659741 is handled. Duration 405 ms by bot id=8582666055
2025-12-23 20:43:01,802 - aiogram.event - INFO - Update id=75659742 is handled. Duration 327 ms by bot id=8582666055
2025-12-23 20:43:03,664 - aiogram.event - INFO - Update id=75659743 is handled. Duration 343 ms by bot id=8582666055
2025-12-23 20:43:07,353 - aiogram.event - INFO - Update id=75659744 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 20:43:14,122 - aiogram.event - INFO - Update id=75659745 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 20:43:15,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:43:15,583 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:43:15,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055,)
2025-12-23 20:43:15,585 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:43:15,585 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:42:48.223608')
2025-12-23 20:43:15,590 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:43:15,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:43:15,598 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:43:15,598 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (1,)
2025-12-23 20:43:15,600 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:43:15,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:43:15,602 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:43:15,602 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:43:15.602424')
2025-12-23 20:43:15,603 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:43:15,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:43:15,612 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:43:15,612 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (1,)
2025-12-23 20:43:15,612 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:43:15,760 - aiogram.event - INFO - Update id=75659746 is handled. Duration 265 ms by bot id=8582666055
2025-12-23 20:43:18,646 - aiogram.event - INFO - Update id=75659747 is handled. Duration 110 ms by bot id=8582666055
2025-12-23 20:43:23,586 - aiogram.event - INFO - Update id=75659748 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 20:45:51,278 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:45:51,278 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:45:51,278 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:45:51,278 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:45:51,278 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:47:48,162 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:47:48,164 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:47:48,164 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:47:48,164 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,165 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:47:48,165 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,166 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:47:48,166 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,166 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:47:48,166 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,167 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:47:48,167 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:47:48,179 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:47:48,179 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:47:48,186 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:47:48,186 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:47:48,194 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:47:48,194 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:47:48,201 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:47:48,201 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,201 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:47:48,201 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,202 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:47:48,202 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,202 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:47:48,202 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,203 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:47:48,203 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,204 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:47:48,204 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,204 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:47:48,204 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,205 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:47:48,205 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:47:48,206 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:47:48,206 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ()
2025-12-23 20:47:48,213 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:47:48,213 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:47:48,220 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:47:48,220 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:47:48,227 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:47:48,227 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:47:48,235 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:47:48,235 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:47:48,242 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:47:48,243 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:47:48,243 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:47:48,243 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:47:48,438 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:47:48,441 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:47:48,441 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:47:48,441 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:17:48.441365+03:00
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:47:48.440362+03:00
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:47:48.441365+03:00
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:47:48.441365+03:00
2025-12-23 20:47:48,442 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:47:48,442 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:47:48,442 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:47:48,649 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:47:54,890 - aiogram.event - INFO - Update id=75659749 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 20:47:59,840 - aiogram.event - INFO - Update id=75659750 is handled. Duration 108 ms by bot id=8582666055
2025-12-23 20:48:01,896 - aiogram.event - INFO - Update id=75659751 is handled. Duration 422 ms by bot id=8582666055
2025-12-23 20:48:06,979 - aiogram.event - INFO - Update id=75659752 is handled. Duration 327 ms by bot id=8582666055
2025-12-23 20:48:08,397 - aiogram.event - INFO - Update id=75659753 is handled. Duration 406 ms by bot id=8582666055
2025-12-23 20:48:13,670 - aiogram.event - INFO - Update id=75659754 is handled. Duration 139 ms by bot id=8582666055
2025-12-23 20:48:20,725 - aiogram.event - INFO - Update id=75659755 is handled. Duration 188 ms by bot id=8582666055
2025-12-23 20:48:21,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:48:21,937 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:48:21,937 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055,)
2025-12-23 20:48:21,939 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 20:48:21,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 17:47:48.084093')
2025-12-23 20:48:21,942 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:48:21,955 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:48:21,956 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.id = ?
2025-12-23 20:48:21,956 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 20:48:21,958 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 20:48:21,958 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2025-12-23 20:48:21,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 20:48:21,960 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', '2025-12-23 17:48:21.959349')
2025-12-23 20:48:21,961 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:48:21,974 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:48:21,975 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.id = ?
2025-12-23 20:48:21,975 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1,)
2025-12-23 20:48:21,975 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:48:22,174 - aiogram.event - INFO - Update id=75659756 is handled. Duration 311 ms by bot id=8582666055
2025-12-23 20:48:23,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:48:23,717 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 20:48:23,717 - sqlalchemy.engine.Engine - INFO - [cached since 1.779s ago] (981466212,)
2025-12-23 20:48:23,797 - aiogram.event - INFO - Update id=75659757 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 20:48:23,797 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 20:52:45,464 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:52:45,464 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:52:45,464 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:52:45,464 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:52:45,465 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:52:50,855 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:52:50,858 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:52:50,858 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:52:50,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,859 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:52:50,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,860 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:52:50,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,862 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:52:50,862 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,862 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:52:50,862 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 20:52:50,871 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:52:50,871 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 20:52:50,880 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:52:50,880 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:52:50,887 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:52:50,887 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:52:50,894 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:52:50,894 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,895 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:52:50,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:52:50,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,896 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:52:50,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,897 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:52:50,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,897 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:52:50,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,898 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:52:50,898 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,898 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:52:50,898 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:52:50,899 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:52:50,899 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 20:52:50,907 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:52:50,907 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:52:50,914 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:52:50,915 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:52:50,922 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:52:50,923 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ()
2025-12-23 20:52:50,930 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:52:50,930 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:52:50,937 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:52:50,937 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:52:50,937 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:52:50,938 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:52:51,137 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:52:51,140 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:52:51,141 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:52:51,141 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:52:51,141 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:22:51.141462+03:00
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:52:51.140463+03:00
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:52:51.141462+03:00
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:52:51.141462+03:00
2025-12-23 20:52:51,142 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:52:51,142 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:52:51,142 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:52:51,332 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:52:55,171 - aiogram.event - INFO - Update id=75659758 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:52:57,934 - aiogram.event - INFO - Update id=75659759 is handled. Duration 109 ms by bot id=8582666055
2025-12-23 20:52:59,631 - aiogram.event - INFO - Update id=75659760 is handled. Duration 280 ms by bot id=8582666055
2025-12-23 20:53:03,080 - aiogram.event - INFO - Update id=75659761 is handled. Duration 218 ms by bot id=8582666055
2025-12-23 20:53:04,795 - aiogram.event - INFO - Update id=75659762 is handled. Duration 218 ms by bot id=8582666055
2025-12-23 20:53:10,699 - aiogram.event - INFO - Update id=75659763 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 20:53:15,024 - aiogram.event - INFO - Update id=75659764 is handled. Duration 235 ms by bot id=8582666055
2025-12-23 20:53:16,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:53:16,257 - sqlalchemy.engine.Engine - INFO - SELECT id FROM users WHERE telegram_id = ?
2025-12-23 20:53:16,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (8582666055,)
2025-12-23 20:53:16,259 - sqlalchemy.engine.Engine - INFO - 
                        INSERT INTO users (telegram_id, username, first_name, created_at) 
                        VALUES (?, ?, ?, ?)
                    
2025-12-23 20:53:16,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', datetime.datetime(2025, 12, 23, 20, 53, 16, 259740))
2025-12-23 20:53:16,262 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:53:16,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:53:16,270 - sqlalchemy.engine.Engine - INFO - SELECT last_insert_rowid()
2025-12-23 20:53:16,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2025-12-23 20:53:16,271 - sqlalchemy.engine.Engine - INFO - 
                    INSERT OR REPLACE INTO user_preferences 
                    (user_id, name, gender, city, clothing_style, wants_dispatch, 
                     timezone, dispatch_time, created_at)
                    VALUES (?, ?, ?, ?, ?, 
                            ?, ?, ?, ?)
                
2025-12-23 20:53:16,272 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1, 'Zhjckfd', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+02:00', '08:00', datetime.datetime(2025, 12, 23, 20, 53, 16, 271717))
2025-12-23 20:53:16,273 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:53:16,382 - aiogram.event - INFO - Update id=75659765 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 20:55:13,966 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 20:55:13,966 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 20:55:13,966 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 20:55:13,966 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:55:13,966 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 20:56:29,032 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 20:56:29,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:56:29,035 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:56:29,035 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,036 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:56:29,036 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,037 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:56:29,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,038 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:56:29,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,041 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 20:56:29,041 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:56:29,051 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 20:56:29,051 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:56:29,059 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 20:56:29,059 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-12-23 20:56:29,067 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 20:56:29,067 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:56:29,074 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 20:56:29,074 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,075 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 20:56:29,075 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,076 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 20:56:29,076 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,076 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 20:56:29,076 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,077 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 20:56:29,077 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,077 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 20:56:29,077 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,078 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 20:56:29,078 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,078 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 20:56:29,078 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 20:56:29,079 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 20:56:29,079 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 20:56:29,086 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 20:56:29,087 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 20:56:29,094 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 20:56:29,094 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:56:29,101 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 20:56:29,102 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 20:56:29,109 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 20:56:29,109 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 20:56:29,116 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:56:29,117 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 20:56:29,117 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 20:56:29,117 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:56:29,317 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 20:56:29,321 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:56:29,321 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:56:29,321 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:56:29,321 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:56:29,321 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 20:56:29,321 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 20:56:29,321 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 20:56:29,321 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 20:56:29,322 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 20:56:29,322 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 20:56:29,322 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 20:56:29,322 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 20:56:29,322 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:26:29.321733+03:00
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:56:29.320734+03:00
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:56:29.321733+03:00
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 02:56:29.321733+03:00
2025-12-23 20:56:29,322 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 20:56:29,322 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 20:56:29,322 - aiogram.dispatcher - INFO - Start polling
2025-12-23 20:56:29,498 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 20:56:40,019 - aiogram.event - INFO - Update id=75659766 is handled. Duration 233 ms by bot id=8582666055
2025-12-23 20:56:45,012 - aiogram.event - INFO - Update id=75659767 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 20:56:46,975 - aiogram.event - INFO - Update id=75659768 is handled. Duration 375 ms by bot id=8582666055
2025-12-23 20:56:50,053 - aiogram.event - INFO - Update id=75659769 is handled. Duration 359 ms by bot id=8582666055
2025-12-23 20:56:51,702 - aiogram.event - INFO - Update id=75659770 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 20:56:55,858 - aiogram.event - INFO - Update id=75659771 is handled. Duration 109 ms by bot id=8582666055
2025-12-23 20:57:00,663 - aiogram.event - INFO - Update id=75659772 is handled. Duration 327 ms by bot id=8582666055
2025-12-23 20:57:01,935 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:57:01,935 - sqlalchemy.engine.Engine - INFO - DELETE FROM user_preferences
2025-12-23 20:57:01,935 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2025-12-23 20:57:01,938 - sqlalchemy.engine.Engine - INFO - DELETE FROM users
2025-12-23 20:57:01,938 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2025-12-23 20:57:01,939 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO users (telegram_id, username, first_name, created_at) 
                    VALUES (?, ?, ?, ?)
                
2025-12-23 20:57:01,939 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', datetime.datetime(2025, 12, 23, 20, 57, 1, 939493))
2025-12-23 20:57:01,940 - sqlalchemy.engine.Engine - INFO - SELECT last_insert_rowid()
2025-12-23 20:57:01,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-12-23 20:57:01,941 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO user_preferences 
                    (user_id, name, gender, city, clothing_style, wants_dispatch, created_at)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                
2025-12-23 20:57:01,941 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, datetime.datetime(2025, 12, 23, 20, 57, 1, 940494))
2025-12-23 20:57:01,941 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 20:57:01,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 20:57:01,951 - sqlalchemy.engine.Engine - INFO - SELECT COUNT(*) FROM user_preferences WHERE user_id = ?
2025-12-23 20:57:01,951 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (1,)
2025-12-23 20:57:01,952 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 20:57:02,114 - aiogram.event - INFO - Update id=75659773 is handled. Duration 281 ms by bot id=8582666055
2025-12-23 21:01:08,098 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:01:08,099 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:01:08,099 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:01:08,099 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:01:08,099 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:01:14,949 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:01:14,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:01:14,952 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:01:14,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,953 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:01:14,953 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,953 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:01:14,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,954 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:01:14,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,955 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:01:14,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 21:01:14,965 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:01:14,965 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:01:14,972 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:01:14,972 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:01:14,979 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:01:14,980 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ()
2025-12-23 21:01:14,987 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:01:14,987 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,987 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:01:14,988 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,988 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:01:14,988 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,990 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:01:14,990 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,990 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:01:14,990 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,991 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:01:14,991 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,992 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:01:14,992 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,992 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:01:14,992 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:01:14,993 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:01:14,993 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:01:15,002 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:01:15,002 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 21:01:15,010 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:01:15,010 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:01:15,019 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:01:15,019 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 21:01:15,027 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:01:15,028 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 21:01:15,035 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:01:15,036 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:01:15,036 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:01:15,036 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:01:15,265 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:01:15,268 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:01:15,268 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:01:15,268 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:01:15,269 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:01:15,269 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:01:15,269 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:31:15.268240+03:00
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:01:15.268240+03:00
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:01:15.268240+03:00
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:01:15,269 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:01:15.268240+03:00
2025-12-23 21:01:15,269 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:01:15,269 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:01:15,463 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:01:21,767 - aiogram.event - INFO - Update id=75659774 is handled. Duration 422 ms by bot id=8582666055
2025-12-23 21:01:26,203 - aiogram.event - INFO - Update id=75659775 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:01:28,097 - aiogram.event - INFO - Update id=75659776 is handled. Duration 266 ms by bot id=8582666055
2025-12-23 21:01:31,451 - aiogram.event - INFO - Update id=75659777 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:01:32,805 - aiogram.event - INFO - Update id=75659778 is handled. Duration 452 ms by bot id=8582666055
2025-12-23 21:01:36,422 - aiogram.event - INFO - Update id=75659779 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 21:01:41,096 - aiogram.event - INFO - Update id=75659780 is handled. Duration 343 ms by bot id=8582666055
2025-12-23 21:01:42,241 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:01:42,241 - sqlalchemy.engine.Engine - INFO - SELECT id FROM users WHERE telegram_id = ?
2025-12-23 21:01:42,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (8582666055,)
2025-12-23 21:01:42,243 - sqlalchemy.engine.Engine - INFO - 
                        INSERT INTO users (telegram_id, username, first_name, created_at) 
                        VALUES (?, ?, ?, ?)
                    
2025-12-23 21:01:42,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', datetime.datetime(2025, 12, 23, 21, 1, 42, 242228))
2025-12-23 21:01:42,246 - sqlalchemy.engine.Engine - INFO - SELECT last_insert_rowid()
2025-12-23 21:01:42,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2025-12-23 21:01:42,246 - sqlalchemy.engine.Engine - INFO - DELETE FROM user_preferences WHERE user_id = ?
2025-12-23 21:01:42,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] (1,)
2025-12-23 21:01:42,247 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO user_preferences 
                    (user_id, name, gender, city, clothing_style, wants_dispatch, created_at)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                
2025-12-23 21:01:42,247 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, datetime.datetime(2025, 12, 23, 21, 1, 42, 247495))
2025-12-23 21:01:42,248 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:01:42,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:01:42,254 - sqlalchemy.engine.Engine - INFO - SELECT COUNT(*) FROM user_preferences WHERE user_id = ?
2025-12-23 21:01:42,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (1,)
2025-12-23 21:01:42,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:01:42,506 - aiogram.event - INFO - Update id=75659781 is handled. Duration 375 ms by bot id=8582666055
2025-12-23 21:02:13,541 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:02:13,541 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:02:13,542 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:02:13,542 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:02:13,542 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:06:43,244 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:06:43,247 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:06:43,247 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:06:43,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:06:43,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,249 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:06:43,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,250 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:06:43,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,250 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:06:43,250 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:06:43,259 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:06:43,259 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:06:43,265 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:06:43,265 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:06:43,273 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:06:43,273 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 21:06:43,280 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:06:43,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,281 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:06:43,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,281 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:06:43,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,282 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:06:43,282 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,282 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:06:43,282 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,282 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:06:43,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,283 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:06:43,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,283 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:06:43,283 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:06:43,284 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:06:43,284 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:06:43,291 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:06:43,291 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-12-23 21:06:43,298 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:06:43,298 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:06:43,306 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:06:43,306 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 21:06:43,313 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:06:43,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:06:43,320 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:06:43,320 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:06:43,320 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:06:43,320 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:06:43,510 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:06:43,512 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:06:43,512 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:06:43,513 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:06:43,513 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:06:43,513 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:06:43,513 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:06:43,513 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:06:43,513 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:36:43.513330+03:00
2025-12-23 21:06:43,514 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:06:43.512329+03:00
2025-12-23 21:06:43,514 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:06:43.513330+03:00
2025-12-23 21:06:43,514 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:06:43,514 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:06:43.512329+03:00
2025-12-23 21:06:43,514 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:06:43,514 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:06:43,685 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:06:52,788 - aiogram.event - INFO - Update id=75659782 is handled. Duration 218 ms by bot id=8582666055
2025-12-23 21:06:57,665 - aiogram.event - INFO - Update id=75659783 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 21:07:02,656 - aiogram.event - INFO - Update id=75659784 is handled. Duration 281 ms by bot id=8582666055
2025-12-23 21:07:06,573 - aiogram.event - INFO - Update id=75659785 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 21:07:10,582 - aiogram.event - INFO - Update id=75659786 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:07:15,914 - aiogram.event - INFO - Update id=75659787 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:07:20,840 - aiogram.event - INFO - Update id=75659788 is handled. Duration 186 ms by bot id=8582666055
2025-12-23 21:07:22,177 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:07:22,182 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:07:22,182 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (8582666055,)
2025-12-23 21:07:22,184 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:07:22,184 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:07:22.183125')
2025-12-23 21:07:22,188 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:07:22,188 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2025-12-23 21:07:22,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:07:22,190 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'FEMALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+2', '08:00', '2025-12-23 21:07:22.189125')
2025-12-23 21:07:22,191 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:07:22,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:07:22,199 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:07:22,200 - sqlalchemy.engine.Engine - INFO - [cached since 0.01186s ago] (1,)
2025-12-23 21:07:22,200 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:07:22,385 - aiogram.event - INFO - Update id=75659789 is handled. Duration 327 ms by bot id=8582666055
2025-12-23 21:07:36,182 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:07:36,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:07:36,183 - sqlalchemy.engine.Engine - INFO - [cached since 14s ago] (981466212,)
2025-12-23 21:07:36,269 - aiogram.event - INFO - Update id=75659790 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 21:07:36,269 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:07:59,871 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:07:59,871 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:07:59,871 - sqlalchemy.engine.Engine - INFO - [cached since 37.69s ago] (981466212,)
2025-12-23 21:07:59,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:07:59,872 - aiogram.event - INFO - Update id=75659791 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:09:46,968 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:09:46,968 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:09:46,968 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:09:46,968 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:09:46,969 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:09:56,231 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:09:56,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:09:56,233 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:09:56,233 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,234 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:09:56,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,235 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:09:56,235 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,236 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:09:56,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,236 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:09:56,236 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ()
2025-12-23 21:09:56,249 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:09:56,249 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:09:56,261 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:09:56,261 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:09:56,268 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:09:56,269 - sqlalchemy.engine.Engine - INFO - [no key 0.00061s] ()
2025-12-23 21:09:56,279 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:09:56,279 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,280 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:09:56,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,280 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:09:56,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,280 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:09:56,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,281 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:09:56,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,281 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:09:56,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,281 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:09:56,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,282 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:09:56,282 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:09:56,282 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:09:56,282 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ()
2025-12-23 21:09:56,294 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:09:56,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:09:56,305 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:09:56,305 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:09:56,313 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:09:56,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:09:56,325 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:09:56,325 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:09:56,336 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:09:56,336 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:09:56,337 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:09:56,337 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:09:56,530 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:09:56,533 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:09:56,533 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:09:56,533 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:09:56,533 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:09:56,533 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:09:56,533 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:09:56,534 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:09:56,534 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:09:56,534 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:09:56,534 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:09:56,534 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:09:56,534 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:39:56.533214+03:00
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:09:56.533214+03:00
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:09:56.533214+03:00
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:09:56,534 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:09:56.533214+03:00
2025-12-23 21:09:56,534 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:09:56,534 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:09:56,759 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:10:01,764 - aiogram.event - INFO - Update id=75659792 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 21:10:07,012 - aiogram.event - INFO - Update id=75659793 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:10:08,919 - aiogram.event - INFO - Update id=75659794 is handled. Duration 436 ms by bot id=8582666055
2025-12-23 21:10:12,536 - aiogram.event - INFO - Update id=75659795 is handled. Duration 186 ms by bot id=8582666055
2025-12-23 21:10:15,030 - aiogram.event - INFO - Update id=75659796 is handled. Duration 235 ms by bot id=8582666055
2025-12-23 21:10:20,287 - aiogram.event - INFO - Update id=75659797 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 21:10:27,823 - aiogram.event - INFO - Update id=75659798 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 21:10:29,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:10:29,128 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:10:29,129 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (8582666055,)
2025-12-23 21:10:29,130 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:10:29,131 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:10:29.130117')
2025-12-23 21:10:29,133 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:10:29,133 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2025-12-23 21:10:29,134 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:10:29,134 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'FEMALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+2', '08:00', '2025-12-23 21:10:29.134116')
2025-12-23 21:10:29,135 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:10:29,142 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:10:29,142 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:10:29,142 - sqlalchemy.engine.Engine - INFO - [cached since 0.009069s ago] (1,)
2025-12-23 21:10:29,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:10:29,354 - aiogram.event - INFO - Update id=75659799 is handled. Duration 313 ms by bot id=8582666055
2025-12-23 21:10:38,447 - aiogram.event - INFO - Update id=75659800 is not handled. Duration 0 ms by bot id=8582666055
2025-12-23 21:10:51,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:10:51,664 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:10:51,664 - sqlalchemy.engine.Engine - INFO - [cached since 22.54s ago] (981466212,)
2025-12-23 21:10:51,665 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:10:51,666 - aiogram.event - INFO - Update id=75659801 is handled. Duration 155 ms by bot id=8582666055
2025-12-23 21:15:28,299 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:15:28,300 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:15:28,300 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:15:28,300 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:15:28,301 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:15:33,992 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:15:33,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:15:33,996 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:15:33,996 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:33,998 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:15:33,998 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:33,999 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:15:33,999 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:33,999 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:15:33,999 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,000 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:15:34,000 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:15:34,009 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:15:34,009 - sqlalchemy.engine.Engine - INFO - [no key 0.00087s] ()
2025-12-23 21:15:34,017 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:15:34,017 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:15:34,024 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:15:34,024 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:15:34,032 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:15:34,032 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,032 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:15:34,033 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,033 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:15:34,033 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,034 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:15:34,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,034 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:15:34,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,035 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:15:34,035 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,035 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:15:34,035 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,035 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:15:34,036 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:15:34,036 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:15:34,036 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:15:34,044 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:15:34,044 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:15:34,052 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:15:34,052 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:15:34,059 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:15:34,059 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:15:34,066 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:15:34,066 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:15:34,073 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:15:34,074 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:15:34,074 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:15:34,074 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:15:34,272 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:15:34,274 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:15:34,275 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:45:34.275529+03:00
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:15:34.274545+03:00
2025-12-23 21:15:34,275 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:15:34.275529+03:00
2025-12-23 21:15:34,276 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:15:34,276 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:15:34.275529+03:00
2025-12-23 21:15:34,276 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:15:34,276 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:15:34,456 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:15:39,262 - aiogram.event - INFO - Update id=75659802 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 21:15:46,670 - aiogram.event - INFO - Update id=75659803 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:15:48,499 - aiogram.event - INFO - Update id=75659804 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:15:52,125 - aiogram.event - INFO - Update id=75659805 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:15:55,099 - aiogram.event - INFO - Update id=75659806 is handled. Duration 188 ms by bot id=8582666055
2025-12-23 21:16:01,796 - aiogram.event - INFO - Update id=75659807 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 21:16:07,303 - aiogram.event - INFO - Update id=75659808 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 21:16:08,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:16:08,803 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:16:08,803 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055,)
2025-12-23 21:16:08,806 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:16:08,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:16:08.805865')
2025-12-23 21:16:08,808 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:16:08,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2025-12-23 21:16:08,811 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:16:08,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+3', '08:00', '2025-12-23 21:16:08.809889')
2025-12-23 21:16:08,812 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:16:08,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:16:08,821 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:16:08,821 - sqlalchemy.engine.Engine - INFO - [cached since 0.01302s ago] (1,)
2025-12-23 21:16:08,822 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:16:08,987 - aiogram.event - INFO - Update id=75659809 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 21:16:22,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:16:22,989 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:16:22,989 - sqlalchemy.engine.Engine - INFO - [cached since 14.19s ago] (981466212,)
2025-12-23 21:16:22,990 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:16:23,119 - aiogram.event - INFO - Update id=75659810 is handled. Duration 140 ms by bot id=8582666055
2025-12-23 21:18:15,509 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:18:15,509 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:18:15,509 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:18:15,510 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:18:15,510 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:18:21,019 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:18:21,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:18:21,022 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:18:21,022 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,023 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:18:21,023 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,024 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:18:21,024 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,025 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:18:21,025 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,025 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:18:21,025 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:18:21,034 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:18:21,034 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:18:21,041 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:18:21,041 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:18:21,048 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:18:21,048 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:18:21,055 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:18:21,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,056 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:18:21,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,056 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:18:21,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,057 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:18:21,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,057 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:18:21,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,058 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:18:21,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,058 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:18:21,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,059 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:18:21,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:18:21,059 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:18:21,059 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:18:21,066 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:18:21,066 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:18:21,074 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:18:21,074 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:18:21,081 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:18:21,081 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:18:21,088 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:18:21,088 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:18:21,095 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:18:21,095 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:18:21,095 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:18:21,095 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:18:21,280 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:18:21,282 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:18:21,283 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:18:21,283 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:18:21,283 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:18:21,283 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:18:21,283 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:18:21,283 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:18:21,283 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:18:21,283 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:18:21,284 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:18:21,284 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:18:21,284 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:18:21,284 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:48:21.283774+03:00
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:18:21.282773+03:00
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:18:21.283774+03:00
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:18:21,284 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:18:21.283774+03:00
2025-12-23 21:18:21,284 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:18:21,284 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:18:21,466 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:18:26,978 - aiogram.event - INFO - Update id=75659811 is handled. Duration 281 ms by bot id=8582666055
2025-12-23 21:18:29,854 - aiogram.event - INFO - Update id=75659812 is handled. Duration 94 ms by bot id=8582666055
2025-12-23 21:18:31,273 - aiogram.event - INFO - Update id=75659813 is handled. Duration 235 ms by bot id=8582666055
2025-12-23 21:18:33,903 - aiogram.event - INFO - Update id=75659814 is handled. Duration 188 ms by bot id=8582666055
2025-12-23 21:18:34,903 - aiogram.event - INFO - Update id=75659815 is handled. Duration 141 ms by bot id=8582666055
2025-12-23 21:18:38,936 - aiogram.event - INFO - Update id=75659816 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 21:18:44,654 - aiogram.event - INFO - Update id=75659817 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:18:45,918 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:18:45,921 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:18:45,922 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055,)
2025-12-23 21:18:45,923 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:18:45,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:18:45.923707')
2025-12-23 21:18:45,927 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:18:45,927 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (1,)
2025-12-23 21:18:45,929 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:18:45,929 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (1, '–Ø—Ä–æ—Å–ª–∞–≤\\', 'MALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+3', '08:00', '2025-12-23 21:18:45.928707')
2025-12-23 21:18:45,930 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:18:45,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:18:45,938 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:18:45,938 - sqlalchemy.engine.Engine - INFO - [cached since 0.01036s ago] (1,)
2025-12-23 21:18:45,938 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:18:46,186 - aiogram.event - INFO - Update id=75659818 is handled. Duration 375 ms by bot id=8582666055
2025-12-23 21:19:03,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:19:03,408 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:19:03,408 - sqlalchemy.engine.Engine - INFO - [cached since 17.49s ago] (981466212,)
2025-12-23 21:19:03,409 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:19:03,489 - aiogram.event - INFO - Update id=75659819 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:20:19,690 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:20:19,690 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:20:19,690 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:20:19,690 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:20:19,691 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:20:24,105 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:20:24,108 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:20:24,108 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:20:24,108 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,109 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:20:24,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,110 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:20:24,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:20:24,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,112 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:20:24,112 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:20:24,121 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:20:24,121 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:20:24,128 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:20:24,129 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 21:20:24,136 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:20:24,136 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:20:24,144 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:20:24,144 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,145 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:20:24,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,145 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:20:24,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,147 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:20:24,147 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,147 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:20:24,147 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,148 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:20:24,148 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,149 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:20:24,149 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,149 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:20:24,149 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:20:24,150 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:20:24,150 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ()
2025-12-23 21:20:24,158 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:20:24,158 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:20:24,166 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:20:24,166 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-12-23 21:20:24,173 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:20:24,173 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2025-12-23 21:20:24,180 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:20:24,181 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:20:24,188 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:20:24,189 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:20:24,189 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:20:24,189 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:20:24,396 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:20:24,398 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:20:24,398 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:20:24,398 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:20:24,398 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:20:24,398 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:20:24,399 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:20:24,399 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:20:24,399 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:20:24,399 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:20:24,399 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:20:24,399 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:50:24.398310+03:00
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:20:24.398310+03:00
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:20:24.398310+03:00
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:20:24,399 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:20:24.398310+03:00
2025-12-23 21:20:24,399 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:20:24,400 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:20:24,578 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:20:29,282 - aiogram.event - INFO - Update id=75659820 is handled. Duration 281 ms by bot id=8582666055
2025-12-23 21:20:32,081 - aiogram.event - INFO - Update id=75659821 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:20:34,064 - aiogram.event - INFO - Update id=75659822 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:20:37,467 - aiogram.event - INFO - Update id=75659823 is handled. Duration 280 ms by bot id=8582666055
2025-12-23 21:20:39,834 - aiogram.event - INFO - Update id=75659824 is handled. Duration 218 ms by bot id=8582666055
2025-12-23 21:22:17,959 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:22:17,959 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:22:17,959 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:22:17,959 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:22:17,960 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:22:22,523 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:22:22,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:22:22,525 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:22:22,525 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,526 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:22:22,526 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,527 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:22:22,527 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,528 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:22:22,528 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,529 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:22:22,529 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 21:22:22,541 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:22:22,541 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ()
2025-12-23 21:22:22,550 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:22:22,550 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ()
2025-12-23 21:22:22,559 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:22:22,559 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 21:22:22,566 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:22:22,566 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,567 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:22:22,567 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,568 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:22:22,568 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,568 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:22:22,568 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,569 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:22:22,569 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,569 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:22:22,569 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,570 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:22:22,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,570 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:22:22,570 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:22:22,571 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:22:22,571 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:22:22,578 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:22:22,579 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:22:22,586 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:22:22,586 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 21:22:22,593 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:22:22,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ()
2025-12-23 21:22:22,601 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:22:22,601 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:22:22,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:22:22,609 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:22:22,609 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:22:22,609 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:22:22,828 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:22:22,831 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:22:22,831 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:22:22,831 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:22:22,832 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:22:22,832 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:22:22,832 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:22:22,832 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 21:52:22.831440+03:00
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:22:22.830439+03:00
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:22:22.831440+03:00
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:22:22,832 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:22:22.831440+03:00
2025-12-23 21:22:22,832 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:22:22,832 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:22:22,985 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:22:26,813 - aiogram.event - INFO - Update id=75659825 is handled. Duration 266 ms by bot id=8582666055
2025-12-23 21:22:30,251 - aiogram.event - INFO - Update id=75659826 is handled. Duration 78 ms by bot id=8582666055
2025-12-23 21:22:31,785 - aiogram.event - INFO - Update id=75659827 is handled. Duration 233 ms by bot id=8582666055
2025-12-23 21:22:34,575 - aiogram.event - INFO - Update id=75659828 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 21:22:37,934 - aiogram.event - INFO - Update id=75659829 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 21:22:55,708 - aiogram.event - INFO - Update id=75659830 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:23:05,619 - aiogram.event - INFO - Update id=75659831 is handled. Duration 109 ms by bot id=8582666055
2025-12-23 21:23:11,316 - aiogram.event - INFO - Update id=75659832 is handled. Duration 421 ms by bot id=8582666055
2025-12-23 21:23:12,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:23:12,213 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:23:12,214 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (8582666055,)
2025-12-23 21:23:12,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:23:12,216 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:23:12.215587')
2025-12-23 21:23:12,219 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:23:12,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 21:23:12,221 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:23:12,221 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'FEMALE', '–ú–æ—Å–∫–≤–∞', 2, 1, 'UTC+3', '08:00', '2025-12-23 21:23:12.221586')
2025-12-23 21:23:12,222 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:23:12,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:23:12,229 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:23:12,231 - sqlalchemy.engine.Engine - INFO - [cached since 0.01084s ago] (1,)
2025-12-23 21:23:12,231 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:23:12,955 - aiogram.event - INFO - Update id=75659833 is handled. Duration 812 ms by bot id=8582666055
2025-12-23 21:23:22,727 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:23:22,727 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:23:22,727 - sqlalchemy.engine.Engine - INFO - [cached since 10.51s ago] (981466212,)
2025-12-23 21:23:22,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:23:22,894 - aiogram.event - INFO - Update id=75659834 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:33:56,819 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:33:56,819 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:33:56,820 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:33:56,820 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:33:56,820 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:34:01,495 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:34:01,497 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:34:01,497 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:34:01,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,499 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:34:01,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,501 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:34:01,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,501 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:34:01,501 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,502 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:34:01,502 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:34:01,511 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:34:01,511 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:34:01,517 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:34:01,517 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:34:01,524 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:34:01,524 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:34:01,532 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:34:01,532 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,532 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:34:01,532 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,533 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:34:01,533 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,534 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:34:01,534 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,534 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:34:01,535 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,535 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:34:01,535 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,535 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:34:01,535 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,536 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:34:01,536 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:34:01,536 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:34:01,536 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:34:01,543 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:34:01,543 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:34:01,551 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:34:01,551 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:34:01,558 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:34:01,558 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:34:01,568 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:34:01,568 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:34:01,576 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:34:01,576 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:34:01,576 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:34:01,576 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:34:01,770 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:34:01,773 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:34:01,773 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:34:01,773 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:34:01,774 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:04:01.774309+03:00
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:34:01.773308+03:00
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:34:01.774309+03:00
2025-12-23 21:34:01,774 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:34:01,775 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:34:01.773308+03:00
2025-12-23 21:34:01,775 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:34:01,775 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:34:01,945 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:34:20,935 - aiogram.event - INFO - Update id=75659835 is handled. Duration 1280 ms by bot id=8582666055
2025-12-23 21:34:26,943 - aiogram.event - INFO - Update id=75659836 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:34:29,808 - aiogram.event - INFO - Update id=75659837 is handled. Duration 297 ms by bot id=8582666055
2025-12-23 21:34:33,455 - aiogram.event - INFO - Update id=75659838 is handled. Duration 312 ms by bot id=8582666055
2025-12-23 21:36:05,214 - aiogram.event - INFO - Update id=75659839 is handled. Duration 140 ms by bot id=8582666055
2025-12-23 21:36:10,402 - aiogram.event - INFO - Update id=75659840 is handled. Duration 125 ms by bot id=8582666055
2025-12-23 21:36:15,328 - aiogram.event - INFO - Update id=75659841 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:36:16,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:36:16,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:36:16,637 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (8582666055,)
2025-12-23 21:36:16,638 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:36:16,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:36:16.638147')
2025-12-23 21:36:16,642 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:36:16,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1,)
2025-12-23 21:36:16,645 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:36:16,645 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 1, 1, 'UTC+3', '08:00', '2025-12-23 21:36:16.644165')
2025-12-23 21:36:16,646 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:36:16,805 - aiogram.event - INFO - Update id=75659842 is handled. Duration 266 ms by bot id=8582666055
2025-12-23 21:37:07,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:37:07,046 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:37:07,046 - sqlalchemy.engine.Engine - INFO - [cached since 50.41s ago] (981466212,)
2025-12-23 21:37:07,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:37:07,138 - aiogram.event - INFO - Update id=75659843 is handled. Duration 94 ms by bot id=8582666055
2025-12-23 21:40:53,849 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:40:53,849 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:40:53,850 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:40:53,850 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:40:53,850 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:41:06,336 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:41:06,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:41:06,338 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:41:06,338 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,339 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:41:06,341 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,341 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:41:06,341 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,341 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:41:06,341 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,342 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:41:06,342 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:41:06,352 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:41:06,352 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:41:06,359 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:41:06,359 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:41:06,367 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:41:06,367 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:41:06,375 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:41:06,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,375 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:41:06,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,375 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:41:06,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,376 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:41:06,376 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,376 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:41:06,376 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,377 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:41:06,377 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,377 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:41:06,377 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,377 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:41:06,378 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:41:06,378 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:41:06,378 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:41:06,386 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:41:06,386 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:41:06,394 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:41:06,394 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:41:06,402 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:41:06,403 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:41:06,410 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:41:06,410 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:41:06,418 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:41:06,418 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:41:06,418 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:41:06,418 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:41:06,618 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:41:06,621 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:41:06,621 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:41:06,621 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:41:06,622 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:41:06,622 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:41:06,623 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:41:06,623 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:41:06,623 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:41:06,623 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:41:06,624 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:41:06,624 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:41:06,624 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:41:06,624 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:41:06,624 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:41:06,624 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:41:06,624 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:11:06.622757+03:00
2025-12-23 21:41:06,624 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:41:06.620757+03:00
2025-12-23 21:41:06,625 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:41:06.622757+03:00
2025-12-23 21:41:06,625 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:41:06,625 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:41:06.621758+03:00
2025-12-23 21:41:06,625 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:41:06,625 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:41:06,792 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:41:25,505 - aiogram.event - INFO - Update id=75659844 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 21:41:30,327 - aiogram.event - INFO - Update id=75659845 is handled. Duration 77 ms by bot id=8582666055
2025-12-23 21:41:31,783 - aiogram.event - INFO - Update id=75659846 is handled. Duration 235 ms by bot id=8582666055
2025-12-23 21:41:35,240 - aiogram.event - INFO - Update id=75659847 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 21:41:36,469 - aiogram.event - INFO - Update id=75659848 is handled. Duration 233 ms by bot id=8582666055
2025-12-23 21:41:42,071 - aiogram.event - INFO - Update id=75659849 is handled. Duration 156 ms by bot id=8582666055
2025-12-23 21:41:46,667 - aiogram.event - INFO - Update id=75659850 is handled. Duration 483 ms by bot id=8582666055
2025-12-23 21:41:47,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:41:47,971 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:41:47,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055,)
2025-12-23 21:41:47,973 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:41:47,973 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (8582666055, 'Garderobny_bot', '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny', '2025-12-23 21:41:47.972518')
2025-12-23 21:41:47,977 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:41:47,977 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2025-12-23 21:41:47,978 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:41:47,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 1, 1, 'UTC+3', '08:00', '2025-12-23 21:41:47.978518')
2025-12-23 21:41:47,979 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:41:48,150 - aiogram.event - INFO - Update id=75659851 is handled. Duration 266 ms by bot id=8582666055
2025-12-23 21:42:17,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:42:17,289 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:42:17,290 - sqlalchemy.engine.Engine - INFO - [cached since 29.32s ago] (981466212,)
2025-12-23 21:42:17,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-23 21:42:17,342 - aiogram.event - INFO - Update id=75659852 is not handled. Duration 47 ms by bot id=8582666055
2025-12-23 21:42:17,342 - aiogram.event - ERROR - Cause exception while process update id=75659852 by bot id=8582666055
TelegramBadRequest: Telegram server says - Bad Request: can't parse entities: Unsupported start tag "gender.male:" at byte offset 159
Traceback (most recent call last):
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 320, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 164, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 58, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\fsm\middleware.py", line 43, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\–ü–∏—Ç–æ–Ω\project-final\wardrobe_app\bot\client.py", line 643, in database_middleware
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 283, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\kobel\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\–ü–∏—Ç–æ–Ω\project-final\wardrobe_app\bot\client.py", line 600, in command_debug_handler
    await message.answer(response[:4000])  # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Telegram
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\client\session\aiohttp.py", line 177, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kobel\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiogram\client\session\base.py", line 121, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: can't parse entities: Unsupported start tag "gender.male:" at byte offset 159
2025-12-23 21:44:50,009 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:44:50,009 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:44:50,009 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:44:50,009 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:44:50,010 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:44:55,982 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:44:55,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:44:55,984 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:44:55,985 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:55,985 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:44:55,985 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:55,986 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:44:55,986 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:55,987 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:44:55,987 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:55,987 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:44:55,987 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:44:55,995 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:44:55,995 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:44:56,001 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:44:56,002 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:44:56,008 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:44:56,009 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ()
2025-12-23 21:44:56,019 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:44:56,019 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,019 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:44:56,019 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,020 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:44:56,020 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,020 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:44:56,020 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,020 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:44:56,021 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,021 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:44:56,021 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,022 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:44:56,022 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,022 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:44:56,022 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:44:56,023 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:44:56,023 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ()
2025-12-23 21:44:56,034 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:44:56,034 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:44:56,041 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:44:56,041 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2025-12-23 21:44:56,048 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:44:56,049 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:44:56,056 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:44:56,056 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2025-12-23 21:44:56,063 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:44:56,064 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:44:56,064 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:44:56,064 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:44:56,269 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:44:56,271 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:44:56,272 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:44:56,272 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:44:56,272 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:14:56.272544+03:00
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:44:56.271544+03:00
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:44:56.272544+03:00
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:44:56,273 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:44:56.272544+03:00
2025-12-23 21:44:56,273 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:44:56,273 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:44:56,440 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:45:01,104 - aiogram.event - INFO - Update id=75659853 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:45:06,967 - aiogram.event - INFO - Update id=75659854 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:45:08,158 - aiogram.event - INFO - Update id=75659855 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 21:45:11,472 - aiogram.event - INFO - Update id=75659856 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:45:12,870 - aiogram.event - INFO - Update id=75659857 is handled. Duration 140 ms by bot id=8582666055
2025-12-23 21:45:17,765 - aiogram.event - INFO - Update id=75659858 is handled. Duration 94 ms by bot id=8582666055
2025-12-23 21:45:23,337 - aiogram.event - INFO - Update id=75659859 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 21:45:24,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:45:24,688 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:45:24,689 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (981466212,)
2025-12-23 21:45:24,691 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:45:24,691 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (981466212, 'yarikksss', '–Ø—Ä–æ—Å–ª–∞–≤', '2025-12-23 21:45:24.690693')
2025-12-23 21:45:24,694 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:45:24,694 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (1,)
2025-12-23 21:45:24,696 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:45:24,696 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 1, 1, 'UTC+3', '08:00', '2025-12-23 21:45:24.695694')
2025-12-23 21:45:24,697 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:45:24,845 - aiogram.event - INFO - Update id=75659860 is handled. Duration 233 ms by bot id=8582666055
2025-12-23 21:48:12,308 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:48:12,308 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:48:12,308 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:48:12,309 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:48:12,309 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:48:16,864 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:48:16,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:48:16,868 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:48:16,868 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,869 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:48:16,869 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,870 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:48:16,870 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,871 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:48:16,871 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,871 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE user_preferences
2025-12-23 21:48:16,872 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2025-12-23 21:48:16,881 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE system_stats
2025-12-23 21:48:16,881 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:48:16,888 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE weather_cache
2025-12-23 21:48:16,889 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:48:16,895 - sqlalchemy.engine.Engine - INFO - 
DROP TABLE users
2025-12-23 21:48:16,896 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ()
2025-12-23 21:48:16,905 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:48:16,905 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,906 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2025-12-23 21:48:16,906 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,906 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:48:16,907 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,907 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_preferences")
2025-12-23 21:48:16,907 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,908 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:48:16,908 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,909 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("weather_cache")
2025-12-23 21:48:16,909 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,909 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:48:16,909 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,910 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("system_stats")
2025-12-23 21:48:16,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:48:16,910 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	telegram_id INTEGER NOT NULL, 
	username VARCHAR(100), 
	first_name VARCHAR(100), 
	created_at DATETIME, 
	PRIMARY KEY (id)
)


2025-12-23 21:48:16,911 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2025-12-23 21:48:16,918 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2025-12-23 21:48:16,918 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:48:16,925 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE weather_cache (
	city VARCHAR(100) NOT NULL, 
	temperature FLOAT, 
	feels_like FLOAT, 
	conditions VARCHAR(100), 
	humidity INTEGER, 
	wind_speed FLOAT, 
	pressure INTEGER, 
	icon VARCHAR(10), 
	sunrise INTEGER, 
	sunset INTEGER, 
	updated_at DATETIME, 
	expires_at DATETIME, 
	PRIMARY KEY (city)
)


2025-12-23 21:48:16,925 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:48:16,932 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE system_stats (
	id INTEGER NOT NULL, 
	timestamp DATETIME, 
	cache_size INTEGER, 
	db_cache_size INTEGER, 
	redis_connected BOOLEAN, 
	PRIMARY KEY (id)
)


2025-12-23 21:48:16,932 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2025-12-23 21:48:16,939 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_preferences (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	gender VARCHAR(6) NOT NULL, 
	city VARCHAR(100) NOT NULL, 
	clothing_style INTEGER NOT NULL, 
	wants_dispatch BOOLEAN, 
	timezone VARCHAR(10), 
	dispatch_time VARCHAR(5), 
	created_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-12-23 21:48:16,939 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2025-12-23 21:48:16,946 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:48:16,946 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
2025-12-23 21:48:16,946 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:48:16,946 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:48:17,142 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:48:17,145 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:48:17,145 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:48:17,145 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:48:17,146 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:48:17,146 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:48:17,146 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:48:17,146 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:18:17.145847+03:00
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:48:17.145847+03:00
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:48:17.145847+03:00
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:48:17,146 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:48:17.145847+03:00
2025-12-23 21:48:17,146 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:48:17,146 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:48:17,324 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:48:31,169 - aiogram.event - INFO - Update id=75659861 is handled. Duration 250 ms by bot id=8582666055
2025-12-23 21:48:35,813 - aiogram.event - INFO - Update id=75659862 is handled. Duration 172 ms by bot id=8582666055
2025-12-23 21:48:37,749 - aiogram.event - INFO - Update id=75659863 is handled. Duration 234 ms by bot id=8582666055
2025-12-23 21:48:40,923 - aiogram.event - INFO - Update id=75659864 is handled. Duration 155 ms by bot id=8582666055
2025-12-23 21:48:42,832 - aiogram.event - INFO - Update id=75659865 is handled. Duration 140 ms by bot id=8582666055
2025-12-23 21:48:47,411 - aiogram.event - INFO - Update id=75659866 is handled. Duration 93 ms by bot id=8582666055
2025-12-23 21:48:51,690 - aiogram.event - INFO - Update id=75659867 is handled. Duration 155 ms by bot id=8582666055
2025-12-23 21:48:53,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:48:53,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:48:53,238 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (981466212,)
2025-12-23 21:48:53,240 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (telegram_id, username, first_name, created_at) VALUES (?, ?, ?, ?)
2025-12-23 21:48:53,240 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (981466212, 'yarikksss', '–Ø—Ä–æ—Å–ª–∞–≤', '2025-12-23 21:48:53.239516')
2025-12-23 21:48:53,243 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:48:53,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2025-12-23 21:48:53,245 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:48:53,245 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 1, 1, 'UTC+3', '08:00', '2025-12-23 21:48:53.244516')
2025-12-23 21:48:53,246 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:48:53,459 - aiogram.event - INFO - Update id=75659868 is handled. Duration 311 ms by bot id=8582666055
2025-12-23 21:51:19,786 - wardrobe_app.scheduler - INFO - –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫...
2025-12-23 21:51:19,786 - wardrobe_app.scheduler - INFO - üõë –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-12-23 21:51:19,786 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-12-23 21:51:19,786 - aiogram.dispatcher - INFO - Polling stopped for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:51:19,786 - aiogram.dispatcher - INFO - Polling stopped
2025-12-23 21:51:27,252 - __main__ - INFO - üöÄ –ó–∞–ø—É—Å–∫ –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–æ–≥–æ –±–æ—Ç–∞...
2025-12-23 21:51:27,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:51:27,254 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-12-23 21:51:27,255 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:51:27,255 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_preferences")
2025-12-23 21:51:27,255 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:51:27,256 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("weather_cache")
2025-12-23 21:51:27,256 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:51:27,256 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("system_stats")
2025-12-23 21:51:27,256 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-12-23 21:51:27,257 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:51:27,258 - wardrobe_app.database.connection - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã –≥–æ—Ç–æ–≤—ã (—Å–æ–∑–¥–∞–Ω—ã –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏)
2025-12-23 21:51:27,258 - __main__ - INFO - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞
2025-12-23 21:51:27,258 - __main__ - INFO - ‚úÖ –ö—ç—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:51:27,450 - wardrobe_app.scheduler - INFO - üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á...
2025-12-23 21:51:27,452 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:51:27,452 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:51:27,452 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:51:27,452 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO - –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 5 –∑–∞–¥–∞—á
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Added job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π" to job store "default"
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Added job "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã" to job store "default"
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Added job "–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞" to job store "default"
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Added job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏" to job store "default"
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Added job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã" to job store "default"
2025-12-23 21:51:27,453 - apscheduler.scheduler - INFO - Scheduler started
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO - üöÄ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∑–∞–ø—É—â–µ–Ω
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5):
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (health_check) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:21:27.452395+03:00
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (morning_dispatch) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:51:27.452395+03:00
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (system_stats) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-23 22:51:27.452395+03:00
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ–≥–æ–¥—ã (update_weather_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 00:00:00+00:00
2025-12-23 21:51:27,453 - wardrobe_app.scheduler - INFO -   ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫—ç—à–∞ (cleanup_cache) - —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: 2025-12-24 03:51:27.452395+03:00
2025-12-23 21:51:27,453 - __main__ - INFO - ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û–∂–∏–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏–π...
2025-12-23 21:51:27,454 - aiogram.dispatcher - INFO - Start polling
2025-12-23 21:51:27,615 - aiogram.dispatcher - INFO - Run polling for bot @Garderobny_bot id=8582666055 - '–ì–∞—Ä–¥–µ—Ä–æ–±–Ω—ã–π @garderobny'
2025-12-23 21:51:32,696 - aiogram.event - INFO - Update id=75659869 is handled. Duration 265 ms by bot id=8582666055
2025-12-23 21:51:37,067 - aiogram.event - INFO - Update id=75659870 is handled. Duration 109 ms by bot id=8582666055
2025-12-23 21:51:39,016 - aiogram.event - INFO - Update id=75659871 is handled. Duration 577 ms by bot id=8582666055
2025-12-23 21:51:42,679 - aiogram.event - INFO - Update id=75659872 is handled. Duration 219 ms by bot id=8582666055
2025-12-23 21:51:45,327 - aiogram.event - INFO - Update id=75659873 is handled. Duration 187 ms by bot id=8582666055
2025-12-23 21:51:51,527 - aiogram.event - INFO - Update id=75659874 is handled. Duration 78 ms by bot id=8582666055
2025-12-23 21:52:00,433 - aiogram.event - INFO - Update id=75659875 is handled. Duration 202 ms by bot id=8582666055
2025-12-23 21:52:01,544 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-23 21:52:01,550 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.telegram_id, users.username, users.first_name, users.created_at 
FROM users 
WHERE users.telegram_id = ?
2025-12-23 21:52:01,550 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (981466212,)
2025-12-23 21:52:01,552 - sqlalchemy.engine.Engine - INFO - SELECT user_preferences.id, user_preferences.user_id, user_preferences.name, user_preferences.gender, user_preferences.city, user_preferences.clothing_style, user_preferences.wants_dispatch, user_preferences.timezone, user_preferences.dispatch_time, user_preferences.created_at 
FROM user_preferences 
WHERE user_preferences.user_id = ?
2025-12-23 21:52:01,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2025-12-23 21:52:01,554 - sqlalchemy.engine.Engine - INFO - DELETE FROM user_preferences WHERE user_preferences.id = ?
2025-12-23 21:52:01,554 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2025-12-23 21:52:01,558 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_preferences (user_id, name, gender, city, clothing_style, wants_dispatch, timezone, dispatch_time, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-23 21:52:01,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, '–Ø—Ä–æ—Å–ª–∞–≤', 'MALE', '–ú–æ—Å–∫–≤–∞', 1, 1, 'UTC+3', '08:00', '2025-12-23 21:52:01.557638')
2025-12-23 21:52:01,558 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-23 21:52:01,760 - aiogram.event - INFO - Update id=75659876 is handled. Duration 297 ms by bot id=8582666055
2025-12-23 22:21:27,456 - apscheduler.executors.default - INFO - Running job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (trigger: interval[0:30:00], next run at: 2025-12-23 22:21:27 MSK)" (scheduled at 2025-12-23 22:21:27.452395+03:00)
2025-12-23 22:21:27,457 - apscheduler.executors.default - INFO - Job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (trigger: interval[0:30:00], next run at: 2025-12-23 22:51:27 MSK)" executed successfully
2025-12-23 22:21:45,617 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:21:45,617 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8582666055)
2025-12-23 22:21:50,747 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:21:50,747 - aiogram.dispatcher - WARNING - Sleep for 1.313167 seconds and try again... (tryings = 1, bot id = 8582666055)
2025-12-23 22:21:56,377 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:21:56,377 - aiogram.dispatcher - WARNING - Sleep for 1.741097 seconds and try again... (tryings = 2, bot id = 8582666055)
2025-12-23 22:22:02,744 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:02,744 - aiogram.dispatcher - WARNING - Sleep for 2.116194 seconds and try again... (tryings = 3, bot id = 8582666055)
2025-12-23 22:22:09,957 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:09,957 - aiogram.dispatcher - WARNING - Sleep for 2.709996 seconds and try again... (tryings = 4, bot id = 8582666055)
2025-12-23 22:22:18,298 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:18,299 - aiogram.dispatcher - WARNING - Sleep for 3.473971 seconds and try again... (tryings = 5, bot id = 8582666055)
2025-12-23 22:22:25,025 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:25,025 - aiogram.dispatcher - WARNING - Sleep for 4.584152 seconds and try again... (tryings = 6, bot id = 8582666055)
2025-12-23 22:22:33,793 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:33,793 - aiogram.dispatcher - WARNING - Sleep for 4.840270 seconds and try again... (tryings = 7, bot id = 8582666055)
2025-12-23 22:22:43,896 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:43,896 - aiogram.dispatcher - WARNING - Sleep for 5.138254 seconds and try again... (tryings = 8, bot id = 8582666055)
2025-12-23 22:22:54,298 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:22:54,298 - aiogram.dispatcher - WARNING - Sleep for 5.111433 seconds and try again... (tryings = 9, bot id = 8582666055)
2025-12-23 22:23:04,426 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:23:04,426 - aiogram.dispatcher - WARNING - Sleep for 5.095953 seconds and try again... (tryings = 10, bot id = 8582666055)
2025-12-23 22:23:14,639 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:23:14,639 - aiogram.dispatcher - WARNING - Sleep for 5.068104 seconds and try again... (tryings = 11, bot id = 8582666055)
2025-12-23 22:23:24,841 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:23:24,841 - aiogram.dispatcher - WARNING - Sleep for 4.988934 seconds and try again... (tryings = 12, bot id = 8582666055)
2025-12-23 22:23:35,062 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:23:35,062 - aiogram.dispatcher - WARNING - Sleep for 4.968741 seconds and try again... (tryings = 13, bot id = 8582666055)
2025-12-23 22:23:45,197 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:23:45,197 - aiogram.dispatcher - WARNING - Sleep for 4.984624 seconds and try again... (tryings = 14, bot id = 8582666055)
2025-12-23 22:23:55,381 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:23:55,381 - aiogram.dispatcher - WARNING - Sleep for 4.886247 seconds and try again... (tryings = 15, bot id = 8582666055)
2025-12-23 22:24:05,244 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:24:05,244 - aiogram.dispatcher - WARNING - Sleep for 4.833906 seconds and try again... (tryings = 16, bot id = 8582666055)
2025-12-23 22:24:15,003 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:24:15,003 - aiogram.dispatcher - WARNING - Sleep for 5.089560 seconds and try again... (tryings = 17, bot id = 8582666055)
2025-12-23 22:24:25,338 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:24:25,338 - aiogram.dispatcher - WARNING - Sleep for 4.855782 seconds and try again... (tryings = 18, bot id = 8582666055)
2025-12-23 22:24:35,340 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:24:35,340 - aiogram.dispatcher - WARNING - Sleep for 5.037836 seconds and try again... (tryings = 19, bot id = 8582666055)
2025-12-23 22:24:45,629 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:24:45,629 - aiogram.dispatcher - WARNING - Sleep for 4.946062 seconds and try again... (tryings = 20, bot id = 8582666055)
2025-12-23 22:24:55,524 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-12-23 22:24:55,524 - aiogram.dispatcher - WARNING - Sleep for 4.974579 seconds and try again... (tryings = 21, bot id = 8582666055)
2025-12-23 22:25:10,557 - aiogram.dispatcher - INFO - Connection established (tryings = 22, bot id = 8582666055)
2025-12-23 22:51:29,433 - apscheduler.executors.default - INFO - Running job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (trigger: interval[0:30:00], next run at: 2025-12-23 23:21:27 MSK)" (scheduled at 2025-12-23 22:51:27.452395+03:00)
2025-12-23 22:51:29,434 - apscheduler.executors.default - INFO - Job "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (trigger: interval[0:30:00], next run at: 2025-12-23 23:21:27 MSK)" executed successfully
2025-12-23 22:51:29,433 - apscheduler.executors.default - INFO - Running job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (trigger: interval[1:00:00], next run at: 2025-12-23 22:51:27 MSK)" (scheduled at 2025-12-23 22:51:27.452395+03:00)
2025-12-23 22:51:29,435 - apscheduler.executors.default - INFO - Job "–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (trigger: interval[1:00:00], next run at: 2025-12-23 22:51:27 MSK)" executed successfully
2025-12-23 22:51:29,435 - apscheduler.executors.default - INFO - Running job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (trigger: interval[1:00:00], next run at: 2025-12-23 23:51:27 MSK)" (scheduled at 2025-12-23 22:51:27.452395+03:00)
2025-12-23 22:51:29,435 - apscheduler.executors.default - INFO - Job "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (trigger: interval[1:00:00], next run at: 2025-12-23 23:51:27 MSK)" executed successfully
